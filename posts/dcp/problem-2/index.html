<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Nikita Galaiko"><link rel="shortcut icon" href=https://galaiko.rocks/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Daily Coding Problem: Problem #2</title></head><body><header id=banner><h2><a href=https://galaiko.rocks>Nikita Galaiko</a></h2><nav><ul><li><a href=/posts/ title>Posts</a></li><li><a href=/about/ title>About</a></li><li><a href=/posts/index.xml title>RSS</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Daily Coding Problem: Problem #2</h1><div><time>July 3, 2018</time></div></header><h1 id=problem>Problem</h1><p>This problem was asked by Uber.</p><p>Given an array of integers, return a new array such that each element at
index i of the new array is the product of all the numbers in the original array except the one at i.</p><p>For example, if our input was [1, 2, 3, 4, 5], the expected output would be [120, 60, 40, 30, 24].
If our input was [3, 2, 1], the expected output would be [2, 3, 6].</p><p>Follow-up: what if you can&rsquo;t use division?</p><h1 id=solution>Solution</h1><p>For this one, I have 2 solutions, with and without division. Follow-up in the
problem text should mean that it’s easier to solve it if you don’t have division,
but in reality, division causes many problems, since you can accidentally divide by zero.</p><h2 id=first>First</h2><p>Without edge cases it’s pretty straightforward: get the product of all array elements,
then in the loop, divide that product by each element. As a result,
you get the product of all elements except for the current one.</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>func</span> <span class=nf>solution_no_edge_cases</span><span class=p>(</span><span class=nx>aa</span> <span class=p>[]</span><span class=kt>int</span><span class=p>)</span> <span class=p>[]</span><span class=kt>int</span> <span class=p>{</span>
	<span class=nx>result</span> <span class=o>:=</span> <span class=mi>1</span>
	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>a</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>aa</span> <span class=p>{</span>
		<span class=nx>result</span> <span class=o>*=</span> <span class=nx>a</span>
	<span class=p>}</span>
	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>aa</span> <span class=p>{</span>
		<span class=nx>aa</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=p>=</span> <span class=nx>result</span> <span class=o>/</span> <span class=nx>aa</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span>
	<span class=p>}</span>
	<span class=k>return</span> <span class=nx>aa</span>
<span class=p>}</span>
</code></pre></div><pre><code>a * b * c / a = b * c 
a * b * c / b = a * c 
a * b * c / c = a * b 
</code></pre><p>Only problem - zeros. We have 2 edge cases there:</p><ol><li><p>One zero in an array.</p><p>In this case, the result should be all zeroes except for the 0 elements.
That element should contain the product of all others.</p></li><li><p>Two zeros in array or more.</p><p>This case is pretty much like the first one, but result array always
contains only zeros. Because you there are always 0 elements in the product.</p></li></ol><p>To avoid edge cases, we calculate the product of all elements except zero and also count them.</p><p>So if we have two or more zeros in the input array, we can return an array of 0 right away.</p><p>Otherwise, we iterate over an array to replace zero elements to the product we
calculated and all other elements to zero.</p><p>If we don’t have zeros in an array, all these conditions are skipped,
and we get the correct result.</p><h2 id=code>Code</h2><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>func</span> <span class=nf>solution</span><span class=p>(</span><span class=nx>aa</span> <span class=p>[]</span><span class=kt>int</span><span class=p>)</span> <span class=p>[]</span><span class=kt>int</span> <span class=p>{</span>
	<span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=nx>aa</span><span class=p>)</span> <span class=p>&lt;</span> <span class=mi>2</span> <span class=p>{</span>
		<span class=k>return</span> <span class=nx>aa</span>
	<span class=p>}</span>
	<span class=nx>result</span> <span class=o>:=</span> <span class=mi>1</span>
	<span class=nx>countZero</span> <span class=o>:=</span> <span class=mi>0</span>
	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>a</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>aa</span> <span class=p>{</span>
		<span class=k>if</span> <span class=nx>a</span> <span class=o>==</span> <span class=mi>0</span> <span class=p>{</span>
			<span class=nx>countZero</span><span class=o>++</span>
			<span class=k>continue</span>
		<span class=p>}</span>
		<span class=nx>result</span> <span class=o>*=</span> <span class=nx>a</span>
	<span class=p>}</span>
	<span class=k>if</span> <span class=nx>countZero</span> <span class=p>&gt;</span> <span class=mi>1</span> <span class=p>{</span>
		<span class=k>return</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=nx>aa</span><span class=p>))</span>
	<span class=p>}</span>
	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>aa</span> <span class=p>{</span>
		<span class=k>if</span> <span class=nx>aa</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>==</span> <span class=mi>0</span> <span class=p>{</span>
			<span class=nx>aa</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=p>=</span> <span class=nx>result</span>
			<span class=k>continue</span>
		<span class=p>}</span>
		<span class=k>if</span> <span class=nx>countZero</span> <span class=o>==</span> <span class=mi>1</span> <span class=p>{</span>
			<span class=nx>aa</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=p>=</span> <span class=mi>0</span>
			<span class=k>continue</span>
		<span class=p>}</span>
		<span class=nx>aa</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=p>=</span> <span class=nx>result</span> <span class=o>/</span> <span class=nx>aa</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span>
	<span class=p>}</span>
	<span class=k>return</span> <span class=nx>aa</span>
<span class=p>}</span>
</code></pre></div><h2 id=second>Second</h2><p>The second solution is more complicated because it&rsquo;s always O(n^2), but there are no edge cases here.
Just use common logic from yesterday <a href=../2018-07-02>Problem #1</a>, and get production of each
elements pairs, except with itself.</p><h2 id=code-1>Code</h2><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>func</span> <span class=nf>solution2</span><span class=p>(</span><span class=nx>aa</span> <span class=p>[]</span><span class=kt>int</span><span class=p>)</span> <span class=p>[]</span><span class=kt>int</span> <span class=p>{</span>
	<span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=nx>aa</span><span class=p>)</span> <span class=p>&lt;</span> <span class=mi>2</span> <span class=p>{</span>
		<span class=k>return</span> <span class=nx>aa</span>
	<span class=p>}</span>
	<span class=nx>result</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=nx>aa</span><span class=p>))</span>
	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>aa</span> <span class=p>{</span>
		<span class=nx>v</span> <span class=o>:=</span> <span class=mi>1</span>
		<span class=k>for</span> <span class=nx>j</span><span class=p>,</span> <span class=nx>aj</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>aa</span> <span class=p>{</span>
			<span class=k>if</span> <span class=nx>i</span> <span class=o>==</span> <span class=nx>j</span> <span class=p>{</span>
				<span class=k>continue</span>
			<span class=p>}</span>
			<span class=nx>v</span> <span class=o>*=</span> <span class=nx>aj</span>
		<span class=p>}</span>
		<span class=nx>result</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=p>=</span> <span class=nx>v</span>
	<span class=p>}</span>
	<span class=k>return</span> <span class=nx>result</span>
<span class=p>}</span>
</code></pre></div><h1 id=links>Links</h1><p><a href=https://github.com/ngalayko/dcp/tree/master/problems/2018-07-03>github</a></p></article></main><footer id=footer><style>a{color:inherit;text-decoration:none}a:hover{text-decoration:underline}</style>&copy; 2021
<a href=https://galaiko.rocks>Nikita Galaiko</a>
&#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></footer></body></html>
<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Nikita Galaiko"><link rel="shortcut icon" href=https://galaiko.rocks/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Daily Coding Problem: Problem #3</title></head><body><header id=banner><h2><a href=https://galaiko.rocks>Nikita Galaiko</a></h2><nav><ul><li><a href=/posts/ title>Posts</a></li><li><a href=/about/ title>About</a></li><li><a href=/posts/index.xml title>RSS</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Daily Coding Problem: Problem #3</h1><div><time>July 4, 2018</time></div></header><h1 id=problem>Problem</h1><p>This problem was asked by Google.</p><p>Given the root to a binary tree, implement serialize(root), which serializes the tree into a string, and deserialize(s), which deserializes the string back into the tree.</p><p>For example, given the following Node class</p><p>class Node: def init(self, val, left=None, right=None): self.val = val self.left = left self.right = right The following test should pass:</p><p>node = Node(&lsquo;root&rsquo;, Node(&lsquo;left&rsquo;, Node(&lsquo;left.left&rsquo;)), Node(&lsquo;right&rsquo;)) assert deserialize(serialize(node)).left.left.val == &lsquo;left.left&rsquo;</p><h1 id=solution>Solution</h1><p>This one is weird. It doesn&rsquo;t say we can&rsquo;t use standard library, so I will just use it.</p><h1 id=code>Code</h1><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>type</span> <span class=nx>node</span> <span class=kd>struct</span> <span class=p>{</span>
	<span class=nx>Value</span> <span class=kt>string</span> <span class=s>`json:&#34;value&#34;`</span>
	<span class=nx>Left</span>  <span class=o>*</span><span class=nx>node</span>  <span class=s>`json:&#34;left&#34;`</span>
	<span class=nx>Right</span> <span class=o>*</span><span class=nx>node</span>  <span class=s>`json:&#34;right&#34;`</span>
<span class=p>}</span>

<span class=c1>// New is a node constructor.
</span><span class=c1></span><span class=kd>func</span> <span class=nf>New</span><span class=p>(</span><span class=nx>v</span> <span class=kt>string</span><span class=p>,</span> <span class=nx>l</span><span class=p>,</span> <span class=nx>r</span> <span class=o>*</span><span class=nx>node</span><span class=p>)</span> <span class=o>*</span><span class=nx>node</span> <span class=p>{</span>
	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>node</span><span class=p>{</span>
		<span class=nx>Value</span><span class=p>:</span> <span class=nx>v</span><span class=p>,</span>
		<span class=nx>Left</span><span class=p>:</span>  <span class=nx>l</span><span class=p>,</span>
		<span class=nx>Right</span><span class=p>:</span> <span class=nx>r</span><span class=p>,</span>
	<span class=p>}</span>
<span class=p>}</span>

<span class=c1>// Serialize returns string representation of a node.
</span><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>n</span> <span class=o>*</span><span class=nx>node</span><span class=p>)</span> <span class=nf>Serialize</span><span class=p>()</span> <span class=p>(</span><span class=kt>string</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
	<span class=nx>b</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>json</span><span class=p>.</span><span class=nf>Marshal</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span>
	<span class=k>return</span> <span class=nb>string</span><span class=p>(</span><span class=nx>b</span><span class=p>),</span> <span class=nx>err</span>
<span class=p>}</span>

<span class=c1>// Deserialize returns node from it&#39;s string representation.
</span><span class=c1></span><span class=kd>func</span> <span class=nf>Deserialize</span><span class=p>(</span><span class=nx>s</span> <span class=kt>string</span><span class=p>)</span> <span class=p>(</span><span class=o>*</span><span class=nx>node</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
	<span class=nx>n</span> <span class=o>:=</span> <span class=nb>new</span><span class=p>(</span><span class=nx>node</span><span class=p>)</span>
	<span class=k>return</span> <span class=nx>n</span><span class=p>,</span> <span class=nx>json</span><span class=p>.</span><span class=nf>Unmarshal</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=nx>s</span><span class=p>),</span> <span class=nx>n</span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div><h1 id=links>Links</h1><p><a href=https://github.com/ngalayko/dcp/tree/master/problems/2018-07-04>github</a></p></article></main><footer id=footer><style>a{color:inherit;text-decoration:none}a:hover{text-decoration:underline}</style>&copy; 2021
<a href=https://galaiko.rocks>Nikita Galaiko</a>
&#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></footer></body></html>
<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Nikita Galaiko"><title>Daily Coding Problem: Problem #5</title><link rel="shortcut icon" href=https://galaiko.rocks/favicon.ico><style>*,*:before,*:after{box-sizing:border-box}body{font-size:20px;line-height:28px;font-family:helvetica neue,arial,sans-serif;width:100%;margin:0 auto;padding:0 16px}@media(min-width:770px){body{width:800px}}header#banner{margin:25px 0}header#banner a{text-decoration:none}header#banner a:hover{text-decoration:underline}header#banner h2{display:inline;margin:0 8px 0 0;font-size:1em}header#banner nav{display:inline-block}header#banner nav ul{list-style-type:none;text-transform:lowercase;margin:0;padding:0}header#banner nav ul li{display:inline;margin:0 3px}main#content a{text-decoration:none}main#content a:hover{text-decoration:underline}main#content h1,main#content h2,main#content h3,main#content h4,main#content h5,main#content h6{margin-bottom:0}main#content h2{font-size:21.4px;line-height:28px;margin:28px 0 0}main#content h1+p,main#content h3+p,main#content h4+p,main#content h5+p,main#content h6+p{margin-top:5px}main#content p{margin:16px 0}main#content hr{height:1px;border:0}main#content ul#posts{list-style-type:none;margin-top:0;padding:0}main#content ul#posts li{margin:5px 0;padding:0}main#content ul#posts small{font-size:.8em;margin-left:10px}main#content ul#posts li a{text-decoration:none}main#content header#post-header h1{display:block;font-size:1.95552em;line-height:1.2141em}main#content header#post-header div{display:block;font-size:.8em;font-weight:300}main#content img{max-width:100%;margin:0 auto}main#content figure{margin:16px 0}main#content figure img{display:block;max-width:100%;margin:0 auto}main#content figure figcaption{font-size:.92em;font-style:italic;line-height:22px;text-align:center;margin-top:6px;padding:0 10px}main#content figure figcaption h4{font-style:normal;display:inline;margin:0}main#content figure figcaption p{display:inline;margin:0;padding-left:8px}main#content blockquote{font-style:italic;margin-top:10px;margin-bottom:10px;margin-left:50px;padding-left:15px;border-left:3px solid #ccc}main#content code,main#content pre{font-family:menlo,monospace}main#content code{font-size:.87em;line-height:1.45em}main#content pre{display:block;overflow-x:auto;white-space:pre}main#content section.footnotes{font-size:.9em}footer#footer{margin:40px 0;font-size:.8em;font-weight:300}html{scrollbar-color:#6c6c6c #2e2e2e}body{color:#282828;background:#fbf1c7}header#banner a{color:#282828}header#banner nav ul li a{color:#504945}main#content a{color:#076678}main#content p{color:#3c3836}main#content hr{background:#d8d8d8}main#content ul#posts small{color:#7c6f64}main#content ul#posts li a:hover{color:#458588}main#content header#post-header div{color:#7c6f64}@media(prefers-color-scheme:dark){html{scrollbar-color:#6c6c6c #2e2e2e}body{color:#fbf1c7;background:#282828}header#banner a{color:#fbf1c7}header#banner nav ul li a{color:#d5c4a1}main#content a{color:#83a598}main#content p{color:#ebdbb2}main#content hr{background:#5c5c5c}main#content ul#posts small{color:#a89984}main#content ul#posts li a:hover{color:#458588}main#content header#post-header div{color:#a89984}}</style></head><body><header id=banner><h2><a href=https://galaiko.rocks>Nikita Galaiko</a></h2><nav><ul><li><a href=/posts/ title>Posts</a></li><li><a href=/about/ title>About</a></li><li><a href=/posts/index.xml title>RSS</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Daily Coding Problem: Problem #5</h1><div><time>July 6, 2018</time></div></header><h1 id=problem>Problem</h1><p>This problem was asked by Jane Street.</p><p>cons(a, b) constructs a pair, and car(pair) and cdr(pair) returns the first and last element of that pair. For example, car(cons(3, 4)) returns 3, and cdr(cons(3, 4)) returns 4.</p><p>Given this implementation of cons:</p><p>def cons(a, b):
def pair(f):
return f(a, b)
return pair
Implement car and cdr.</p><h1 id=solution>Solution</h1><p>The main difficulty with functional programming when you are used to object-oriented is that
you don&rsquo;t have clear names for things that are happening (try to explain to anyone what <em>monad</em> is).</p><p>Even if you never tried functional programming, it&rsquo;s is possible to guess how python solution
looks like. I will just put it and move to the next one in go.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>cons</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>pair</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>f</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>pair</span>

<span class=k>def</span> <span class=nf>car</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>left</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>a</span>
    <span class=k>return</span> <span class=n>f</span><span class=p>(</span><span class=n>left</span><span class=p>)</span>

<span class=k>def</span> <span class=nf>cdr</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>right</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>b</span>
    <span class=k>return</span> <span class=n>f</span><span class=p>(</span><span class=n>right</span><span class=p>)</span>

<span class=k>print</span><span class=p>(</span><span class=n>car</span><span class=p>(</span><span class=n>cons</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>)))</span>
<span class=k>print</span><span class=p>(</span><span class=n>cdr</span><span class=p>(</span><span class=n>cons</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>)))</span>
</code></pre></div><p>So most of the functional programming is about passing a behavior to a function.</p><p>When in the object-oriented paradigm you have and interface and two implementations, in functional you
have a function (interface) that accepts another function (implementation) and calls it inside.</p><p>This particular problem is all about it.</p><p>We have <code>cons</code> - high order function that accepts two integers and returns another function,
which accepts the third function that knows how to operate with this integers. Sounds crazy, but let&rsquo;s try
to give names to all these kinds of function.</p><p>First of all, we need to define <code>choice</code>, that knows how to pick one integer out of two.</p><p>The function that is returned by given implementation of <code>cons</code> I called <code>makeChoice</code>. This type of function knows
what to do with given choice.</p><p>Given function <code>cons</code> constructs <code>makeChoice</code> function using input integers.</p><p>We should implement two functions that will apply two kinds of behavior using given <code>makeChoice</code>.</p><p>Now when we can name function types and understand what they do, it&rsquo;s much easier to write the solution.</p><h1 id=code>Code</h1><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kn>package</span> <span class=nx>main</span>

<span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>

<span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>

        <span class=nx>car</span> <span class=o>:=</span> <span class=nf>car</span><span class=p>(</span><span class=nf>cons</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span>
        <span class=nx>cdr</span> <span class=o>:=</span> <span class=nf>cdr</span><span class=p>(</span><span class=nf>cons</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span>

        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;car: %d, cdr: %d\n&#34;</span><span class=p>,</span> <span class=nx>car</span><span class=p>,</span> <span class=nx>cdr</span><span class=p>)</span>
<span class=p>}</span>

<span class=kd>type</span> <span class=nx>choise</span> <span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span>

<span class=kd>type</span> <span class=nx>makeChoise</span> <span class=kd>func</span><span class=p>(</span><span class=nx>choise</span><span class=p>)</span> <span class=kt>int</span>

<span class=kd>func</span> <span class=nf>cons</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=nx>makeChoise</span> <span class=p>{</span>
        <span class=nx>p</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>i</span> <span class=nx>choise</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
                <span class=k>return</span> <span class=nf>i</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=nx>p</span>
<span class=p>}</span>

<span class=kd>func</span> <span class=nf>car</span><span class=p>(</span><span class=nx>do</span> <span class=nx>makeChoise</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
        <span class=nx>chooseRight</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
                <span class=k>return</span> <span class=nx>a</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=nf>do</span><span class=p>(</span><span class=nx>chooseRight</span><span class=p>)</span>
<span class=p>}</span>

<span class=kd>func</span> <span class=nf>cdr</span><span class=p>(</span><span class=nx>do</span> <span class=nx>makeChoise</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
        <span class=nx>chooseLeft</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
                <span class=k>return</span> <span class=nx>b</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=nf>do</span><span class=p>(</span><span class=nx>chooseLeft</span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div><h1 id=links>Links</h1><p><a href=https://github.com/ngalayko/dcp/tree/master/problems/2018-07-06>github</a></p></article></main><footer id=footer><style>a{color:inherit;text-decoration:none}a:hover{text-decoration:underline}</style>&copy; 2018...2021
<a href=https://galaiko.rocks>Nikita Galaiko</a>
&#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></footer></body></html>
<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Nikita Galaiko"><link rel="shortcut icon" href=https://galaiko.rocks/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Daily Coding Problem: Problem #5</title></head><body><header id=banner><h2><a href=https://galaiko.rocks>Nikita Galaiko</a></h2><nav><ul><li><a href=/posts/ title>Posts</a></li><li><a href=/about/ title>About</a></li><li><a href=/posts/index.xml title>RSS</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Daily Coding Problem: Problem #5</h1><div><time>July 6, 2018</time></div></header><h1 id=problem>Problem</h1><p>This problem was asked by Jane Street.</p><p>cons(a, b) constructs a pair, and car(pair) and cdr(pair) returns the first and last element of that pair. For example, car(cons(3, 4)) returns 3, and cdr(cons(3, 4)) returns 4.</p><p>Given this implementation of cons:</p><p>def cons(a, b):
def pair(f):
return f(a, b)
return pair
Implement car and cdr.</p><h1 id=solution>Solution</h1><p>The main difficulty with functional programming when you are used to object-oriented is that
you don&rsquo;t have clear names for things that are happening (try to explain to anyone what <em>monad</em> is).</p><p>Even if you never tried functional programming, it&rsquo;s is possible to guess how python solution
looks like. I will just put it and move to the next one in go.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>cons</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>pair</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>f</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>pair</span>

<span class=k>def</span> <span class=nf>car</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>left</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>a</span>
    <span class=k>return</span> <span class=n>f</span><span class=p>(</span><span class=n>left</span><span class=p>)</span>

<span class=k>def</span> <span class=nf>cdr</span><span class=p>(</span><span class=n>f</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>right</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>b</span>
    <span class=k>return</span> <span class=n>f</span><span class=p>(</span><span class=n>right</span><span class=p>)</span>

<span class=k>print</span><span class=p>(</span><span class=n>car</span><span class=p>(</span><span class=n>cons</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>)))</span>
<span class=k>print</span><span class=p>(</span><span class=n>cdr</span><span class=p>(</span><span class=n>cons</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>)))</span>
</code></pre></div><p>So most of the functional programming is about passing a behavior to a function.</p><p>When in the object-oriented paradigm you have and interface and two implementations, in functional you
have a function (interface) that accepts another function (implementation) and calls it inside.</p><p>This particular problem is all about it.</p><p>We have <code>cons</code> - high order function that accepts two integers and returns another function,
which accepts the third function that knows how to operate with this integers. Sounds crazy, but let&rsquo;s try
to give names to all these kinds of function.</p><p>First of all, we need to define <code>choice</code>, that knows how to pick one integer out of two.</p><p>The function that is returned by given implementation of <code>cons</code> I called <code>makeChoice</code>. This type of function knows
what to do with given choice.</p><p>Given function <code>cons</code> constructs <code>makeChoice</code> function using input integers.</p><p>We should implement two functions that will apply two kinds of behavior using given <code>makeChoice</code>.</p><p>Now when we can name function types and understand what they do, it&rsquo;s much easier to write the solution.</p><h1 id=code>Code</h1><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kn>package</span> <span class=nx>main</span>

<span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>

<span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>

        <span class=nx>car</span> <span class=o>:=</span> <span class=nf>car</span><span class=p>(</span><span class=nf>cons</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span>
        <span class=nx>cdr</span> <span class=o>:=</span> <span class=nf>cdr</span><span class=p>(</span><span class=nf>cons</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span>

        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;car: %d, cdr: %d\n&#34;</span><span class=p>,</span> <span class=nx>car</span><span class=p>,</span> <span class=nx>cdr</span><span class=p>)</span>
<span class=p>}</span>

<span class=kd>type</span> <span class=nx>choise</span> <span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span>

<span class=kd>type</span> <span class=nx>makeChoise</span> <span class=kd>func</span><span class=p>(</span><span class=nx>choise</span><span class=p>)</span> <span class=kt>int</span>

<span class=kd>func</span> <span class=nf>cons</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=nx>makeChoise</span> <span class=p>{</span>
        <span class=nx>p</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>i</span> <span class=nx>choise</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
                <span class=k>return</span> <span class=nf>i</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=nx>p</span>
<span class=p>}</span>

<span class=kd>func</span> <span class=nf>car</span><span class=p>(</span><span class=nx>do</span> <span class=nx>makeChoise</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
        <span class=nx>chooseRight</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
                <span class=k>return</span> <span class=nx>a</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=nf>do</span><span class=p>(</span><span class=nx>chooseRight</span><span class=p>)</span>
<span class=p>}</span>

<span class=kd>func</span> <span class=nf>cdr</span><span class=p>(</span><span class=nx>do</span> <span class=nx>makeChoise</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
        <span class=nx>chooseLeft</span> <span class=o>:=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
                <span class=k>return</span> <span class=nx>b</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=nf>do</span><span class=p>(</span><span class=nx>chooseLeft</span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div><h1 id=links>Links</h1><p><a href=https://github.com/ngalayko/dcp/tree/master/problems/2018-07-06>github</a></p></article></main><footer id=footer><style>a{color:inherit;text-decoration:none}a:hover{text-decoration:underline}</style>&copy; 2021
<a href=https://galaiko.rocks>Nikita Galaiko</a>
&#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></footer></body></html>